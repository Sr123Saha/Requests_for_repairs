Проект: Учёт заявок на ремонт климатического оборудования
=========================================================

Описание
--------

Веб‑приложение для учёта заявок на ремонт климатического оборудования (кондиционеры, вентиляция и др.).  
Позволяет:
- принимать и регистрировать заявки от заказчиков;
- назначать исполнителей (специалистов);
- отслеживать статусы заявок;
- вести статистику по выполненным работам;
- управлять пользователями и их ролями;
- генерировать QR‑код для перехода к форме оценки качества обслуживания.


Технологии
----------

- **Язык**: Python 3  
- **Фреймворк**: Flask  
- **База данных**: SQLite (файл `climate_repair.db`)  
- **Интерфейс**: HTML + Bootstrap 5 + кастомные стили (`static/styles.css`)


Установка и запуск
------------------

1. Клонировать или распаковать проект в любую папку.

2. Установить Python 3 (если ещё не установлен).

3. Установить зависимости:

   ```bash
   pip install -r requirements.txt
   ```

4. Подготовить базу данных:

   - если файл `climate_repair.db` уже есть в корне проекта, этот шаг можно пропустить;
   - если файла нет, выполнить:

   ```bash
   python test.py
   ```

   Скрипт создаст базу данных и заполнит её тестовыми данными.

5. Запуск приложения (рекомендуемый способ):

   ```bash
   python run_web.py
   ```

   Скрипт проверит наличие необходимых библиотек и базы данных, выведет подсказки и запустит веб‑сервер.

6. Открыть в браузере адрес:

   `http://127.0.0.1:5000/`


Тестовые пользователи
---------------------

Примеры тестовых учётных записей (могут отличаться в вашей БД, см. комментарии в `run_web.py` или `test.py`):

- **Менеджер**  
  - логин: `login1`  
  - пароль: `pass1`

- **Специалист**  
  - логин: `login2`  
  - пароль: `pass2`

- **Заказчик**  
  - логин: `login6`  
  - пароль: `pass6`


Роли и права
------------

- **Заказчик**: регистрируется самостоятельно, создаёт заявки только на себя, видит и частично редактирует только свои заявки.  
- **Специалист**: видит назначенные ему заявки, может менять их статус и добавлять служебную информацию.  
- **Оператор**: создаёт и редактирует заявки, назначает исполнителей, меняет статусы.  
- **Менеджер**: управляет всеми заявками, может назначать исполнителей и клиентов, управляет пользователями (роли и блокировка/разблокировка).  
- **Менеджер по качеству**: имеет расширенные права по заявкам и участвует в контроле качества и продлении сроков выполнения.  
- **Администратор**: техническая роль с полным доступом ко всем сущностям (в учебном проекте может не иметь отдельного пользователя, функции администратора фактически выполняет менеджер).


Структура проекта (основное)
----------------------------

- `web_app.py` — основной модуль Flask с маршрутами и логикой работы.  
- `run_web.py` — скрипт для запуска приложения с проверкой зависимостей и БД.  
- `database_schema.sql` — SQL‑схема базы данных (структура таблиц, индексы, триггеры).  
- `climate_repair.db` — файл базы данных SQLite (если уже создан).  
- `templates/` — HTML‑шаблоны страниц (заявки, вход, регистрация, статистика и др.).  
- `static/styles.css` — стили оформления интерфейса (включая тёмную тему).  
- `TZ_no_zip/` — материалы по учебной практике и исходные данные для импорта.  



