ПРЕДЛОЖЕНИЯ ПО МОДИФИКАЦИИ И ОЦЕНКА КАЧЕСТВА КОДА
=================================================

1. Предложения по модификации программного обеспечения
------------------------------------------------------

1. Добавить расширенные фильтры и поиск по заявкам
   - Поиск и фильтрация по статусу, типу оборудования, дате, исполнителю, заказчику.
   - Это упростит работу менеджеров и операторов при большом количестве заявок.

2. Реализовать экспорт отчётов
   - Экспорт списка заявок и статистики в форматы Excel (XLSX) и PDF.
   - Это позволит формировать отчёты для руководства и внешних проверок.

3. Добавить e-mail или мессенджер‑уведомления
   - Отправка уведомлений заказчикам о смене статуса заявки.
   - Уведомления специалистам о назначении новой заявки.

4. Расширить аналитику отзывов
   - Построение графиков по оценкам клиентов.
   - Анализ динамики удовлетворённости по периодам и по специалистам.

5. Ввести систему приоритетов и SLA
   - Добавить приоритет заявки (низкий, средний, высокий, критичный).
   - Ввести контроль за соблюдением целевых сроков реакции и выполнения.

6. Расширить аудит действий пользователей
   - Логирование основных действий (создание/редактирование заявок, смена статуса, изменение ролей пользователей).
   - Хранение этих данных в отдельной таблице или журнале.

7. Перевести часть логики в отдельный слой
   - Вынести функции работы с БД и бизнес‑логику в отдельные модули.
   - Это упростит тестирование и сопровождение кода.


2. Оценка качественных характеристик кода
----------------------------------------

2.1. Полнота обработки ошибочных данных
---------------------------------------

В приложении реализованы следующие механизмы обработки ошибочных данных и исключительных ситуаций:

- проверка обязательных полей форм (логин, пароль, данные заявки);
- проверка формата дат при создании и редактировании заявок;
- обработка отсутствия файла базы данных с выводом понятного сообщения пользователю;
- обработка нарушений уникальности логина при регистрации;
- вывод текстовых сообщений (flash) и визуальных подсказок в интерфейсе.

В большинстве типичных сценариев пользователь получает полезную и понятную информацию о допущенных ошибках и способах их исправления.


2.2. Наличие тестов и сценариев проверки
----------------------------------------

В рамках учебного проекта проведено функциональное тестирование по ключевым сценариям (см. файл testing_protocol.txt).

- Основные сценарии (аутентификация, создание/редактирование заявок, управление пользователями, статистика, генерация QR‑кода) проверены ручным тестированием.
- Автоматические модульные тесты в коде пока не реализованы, но архитектура позволяет добавить их в дальнейшем (отдельные функции для операций с БД и проверкой прав доступа).


2.3. Контроль корректности входных данных
----------------------------------------

Контроль корректности реализован на нескольких уровнях:

- на уровне форм:
  - обязательные поля отмечены и проверяются;
  - используется проверка формата дат;
  - проверяется совпадение пароля и его подтверждения;
- на уровне БД:
  - используются ограничения целостности, уникальности логина и допустимых значений статусов и ролей;
- на уровне кода:
  - выполняются проверки ролей и прав доступа перед редактированием заявок;
  - используется параметризация SQL‑запросов для защиты от SQL‑инъекций.


2.4. Средства восстановления при сбоях
--------------------------------------

Основной механизм хранения данных — файл базы данных SQLite. В рамках учебного проекта:

- предусмотрена возможность резервного копирования файла БД (см. db_and_roles_description.txt и backup‑процедуры);
- при отсутствии базы данных пользователю предлагается создать её с помощью отдельного скрипта и выводится понятное сообщение.

Полноценные механизмы восстановления транзакций и работы при аппаратных сбоях не реализованы, что допустимо в условиях учебной задачи.


2.5. Комментарии и читаемость кода
----------------------------------

Код оформлен в соответствии со стилем языка Python (snake_case для имён функций и переменных). Используются осмысленные идентификаторы и группировка логики по разделам (аутентификация, работа с заявками, статистика, управление пользователями).

Комментарии присутствуют в тех местах, где требуется пояснение роли функции или особенности реализации (например, пояснение прав доступа, назначение декораторов, генерация QR‑кода). Очевидные участки кода без необходимости не комментируются, что соответствует хорошей практике: код читается как обычный текст.


2.6. Проверка корректности передаваемых данных
----------------------------------------------

Передаваемые данные проверяются перед выполнением основных операций:

- при редактировании заявки проверяются права пользователя через отдельную функцию;
- перед записью в БД проверяется наличие связанной заявки или пользователя;
- при генерации QR‑кода проверяется существование заявки с указанным идентификатором, в противном случае возвращается ошибка 404.

Это снижает риск работы с некорректными или несогласованными данными.


2.7. Описание основных функций
------------------------------

Основные функции и маршруты приложения логически сгруппированы:

- маршруты авторизации и регистрации пользователей;
- маршруты просмотра, создания и редактирования заявок;
- маршрут формирования статистики;
- маршруты управления пользователями;
- маршрут генерации QR‑кода для формы отзыва.

Такое разделение упрощает навигацию по коду, его сопровождение и последующую модификацию.


